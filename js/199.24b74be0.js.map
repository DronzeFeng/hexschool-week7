{"version":3,"file":"js/199.24b74be0.js","mappings":"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","sources":["webpack://week7/./src/views/Administrator/AdminProducts.vue","webpack://week7/./src/components/Administrator/ProductModal.vue","webpack://week7/./src/components/Administrator/ProductModal.vue?f4ab","webpack://week7/./src/views/Administrator/AdminProducts.vue?06c9"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <AdminLoading :active=\"isLoading\" :z-index=\"1060\"></AdminLoading>\n      <div class=\"text-end mt-4\">\n        <button class=\"btn btn-primary\" @click=\"openModal('new')\">建立新的產品</button>\n      </div>\n      <table class=\"table mt-4\">\n        <thead>\n          <tr>\n            <th width=\"120\">分類</th>\n            <th>產品名稱</th>\n            <th width=\"120\">原價</th>\n            <th width=\"120\">售價</th>\n            <th width=\"100\">是否啟用</th>\n            <th width=\"120\">編輯</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td>{{ item.category }}</td>\n            <td>{{ item.title }}</td>\n            <td class=\"text-end\">{{ $filters.currency(item.origin_price) }}</td>\n            <td class=\"text-end\">{{ $filters.currency(item.price) }}</td>\n            <td>\n              <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n              <span v-else>未啟用</span>\n            </td>\n            <td>\n              <div class=\"btn-group\">\n                <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"openModal('edit', item)\">編輯</button>\n                <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"openModal('delete', item)\">刪除</button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <!-- 分頁元件 -->\n      <AdminPagination :pages=\"pagination\" @emit-pages=\"getData\"></AdminPagination>\n      <!-- ProductModal -->\n      <ProductModal\n        @update-product=\"updateProduct\"\n        :product=\"productDetail\"\n        :isNew=\"isNew\"\n        ref=\"productModal\"\n      ></ProductModal>\n      <!-- DelModal -->\n      <DelModal :item=\"productDetail\" ref=\"delProductModal\" @del-item=\"delProduct\"></DelModal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AdminPagination from '@/components/Administrator/AdminPagination.vue'\nimport ProductModal from '@/components/Administrator/ProductModal.vue'\nimport DelModal from '@/components/Administrator/DelModal.vue'\n\nexport default {\n  data () {\n    return {\n      isNew: false,\n      isLoading: false,\n      products: [],\n      productDetail: {},\n      pagination: {},\n      currentPage: 1\n    }\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    AdminPagination\n  },\n  methods: {\n    // 取得產品資料\n    getData (page = 1) {\n      this.currentPage = page\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`).then(\n        (res) => {\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n          this.isLoading = false\n        }\n      ).catch(\n        (err) => {\n          this.isLoading = false\n          this.$httpMessageState(err.response, '錯誤訊息')\n        }\n      )\n    },\n    // 觸發Modal的情境\n    openModal (status, item) {\n      const productModal = this.$refs.productModal\n      if (status === 'new') {\n        this.productDetail = {}\n        this.isNew = true\n        productModal.openModal()\n      } else if (status === 'edit') {\n        this.productDetail = { ...item } // 深拷貝\n        this.isNew = false\n        productModal.openModal()\n      } else if (status === 'delete') {\n        this.productDetail = { ...item } // 深拷貝\n        const delProductModal = this.$refs.delProductModal\n        delProductModal.openModal()\n      }\n    },\n    // 更新產品資訊\n    updateProduct (item) {\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`\n      let method = 'post'\n      let status = '新增產品'\n      this.productDetail = item\n      this.isLoading = true\n      // 判斷是否為新增產品\n      if (!this.isNew) {\n        // 修改產品資訊\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.productDetail.id}`\n        method = 'put'\n        status = '更新產品'\n      }\n      const productModal = this.$refs.productModal\n      this.$http[method](url, { data: this.productDetail }).then(\n        (res) => {\n          this.isLoading = false\n          this.$httpMessageState(res, status)\n          productModal.hideModal()\n          this.getData(this.currentPage)\n        }\n      ).catch(\n        (err) => {\n          this.isLoading = false\n          this.$httpMessageState(err.res, status)\n        }\n      )\n    },\n    // 刪除產品\n    delProduct () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.productDetail.id}`\n      this.isLoading = true\n      this.$http.delete(url).then(\n        (res) => {\n          this.isLoading = false\n          this.$httpMessageState(res, '刪除產品')\n          const delProductModal = this.$refs.delProductModal\n          delProductModal.hideModal()\n          this.getData(this.currentPage)\n        }\n      ).catch(\n        (err) => {\n          this.isLoading = false\n          this.$httpMessageState(err.response, '刪除產品')\n        }\n      )\n    }\n  },\n  created () {\n    this.getData()\n  }\n}\n</script>\n","<template>\n  <div id=\"productModal\" ref=\"Modal\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"productModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 id=\"productModalLabel\" class=\"modal-title\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"imageUrl\" class=\"form-label\">輸入主圖片網址</label>\n                <input v-model=\"tempProduct.imageUrl\" type=\"text\" class=\"form-control\" placeholder=\"請輸入圖片連結\">\n                <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\">\n              </div>\n              <h3 class=\"mb-3\">多圖新增</h3>\n              <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                <template v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"key + '3345678'\">\n                  <div class=\"mb-3\">\n                    <label for=\"imageUrl\" class=\"form-label\">圖片網址</label>\n                    <input v-model=\"tempProduct.imagesUrl[key]\" type=\"text\" class=\"form-control\" placeholder=\"請輸入圖片連結\">\n                  </div>\n                  <img class=\"img-fluid\" :src=\"image\">\n                </template>\n                <button v-if=\"!tempProduct.imagesUrl.length || tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\" class=\"btn btn-outline-primary btn-sm d-block w-100\" @click=\"tempProduct.imagesUrl.push('')\">\n                  新增圖片\n                </button>\n                <button v-else class=\"btn btn-outline-danger btn-sm d-block w-100\" @click=\"tempProduct.imagesUrl.pop()\">\n                  刪除圖片\n                </button>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input id=\"title\" type=\"text\" class=\"form-control\" placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\n              </div>\n\n              <div class=\"row\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input id=\"category\" type=\"text\" class=\"form-control\" placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input id=\"unit\" type=\"text\" class=\"form-control\" placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input id=\"origin_price\" type=\"number\" min=\"0\" class=\"form-control\" placeholder=\"請輸入原價\" v-model.number=\"tempProduct.origin_price\">\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input id=\"price\" type=\"number\" min=\"0\" class=\"form-control\" placeholder=\"請輸入售價\" v-model.number=\"tempProduct.price\">\n                </div>\n              </div>\n              <hr>\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea id=\"description\" type=\"text\" class=\"form-control\" placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\">\n                </textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea id=\"description\" type=\"text\" class=\"form-control\" placeholder=\"請輸入說明內容\" v-model=\"tempProduct.content\">\n                </textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input id=\"is_enabled\" class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" v-model=\"tempProduct.is_enabled\">\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product', tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin'\n// import emitter from '@/libs/emitter'\nexport default {\n  props: ['product', 'isNew'],\n  data () {\n    return {\n      status: {},\n      tempProduct: {}\n    }\n  },\n  emits: ['update-product'],\n  mixins: [modalMixin],\n  watch: {\n    product () {\n      this.tempProduct = this.product\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = []\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = ''\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=7647de94\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/joseph/Joseph/Hexschool/2022-Vue3/week7/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=ceb52154\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/joseph/Joseph/Hexschool/2022-Vue3/week7/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","width","_createElementBlock","_createVNode","_component_AdminLoading","active","$data","onClick","$options","_hoisted_5","_Fragment","_renderList","item","key","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_9","type","_hoisted_11","_hoisted_12","_component_AdminPagination","pages","onEmitPages","_component_ProductModal","onUpdateProduct","product","isNew","ref","_component_DelModal","onDelItem","tabindex","for","$props","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_13","imageUrl","$event","placeholder","src","alt","_hoisted_15","Array","isArray","imagesUrl","_hoisted_16","image","_hoisted_18","length","push","pop","_hoisted_23","_hoisted_26","_hoisted_28","unit","_hoisted_31","min","_hoisted_33","_hoisted_34","_hoisted_36","description","_hoisted_38","content","_hoisted_41","_hoisted_43","props","data","status","tempProduct","emits","mixins","modalMixin","watch","this","__exports__","isLoading","products","productDetail","pagination","currentPage","components","ProductModal","DelModal","AdminPagination","methods","getData","page","$http","get","then","res","catch","err","$httpMessageState","response","openModal","productModal","$refs","delProductModal","updateProduct","url","method","hideModal","delProduct","delete","created","render"],"sourceRoot":""}